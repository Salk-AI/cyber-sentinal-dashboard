"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.jobSchedulerRun = jobSchedulerRun;
var _index = require("./index");
var _configuredJobs = require("./configured-jobs");
var _nodeCron = _interopRequireDefault(require("node-cron"));
var _constants = require("../../../common/constants");
var _statisticsTemplate = require("../../integration-files/statistics-template");
var _utils = require("../../../common/utils");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const schedulerJobs = [];

/**
 * Wait until Kibana server is ready
 */
const checkPluginPlatformStatus = async function (context) {
  try {
    context.wazuh.logger.debug('Waiting for platform servers to be ready...');
    await checkElasticsearchServer(context);
    await checkTemplate(context);
    return;
  } catch (error) {
    context.wazuh.logger.warn(error.message || error);
    try {
      await (0, _utils.delayAsPromise)(3000);
      await checkPluginPlatformStatus(context);
    } catch (error) {}
  }
};

/**
 * Check Elasticsearch Server status and Kibana index presence
 */
const checkElasticsearchServer = async function (context) {
  context.wazuh.logger.debug(`Checking the existence of ${context.server.config.opensearchDashboards.index} index`);
  const data = await context.core.opensearch.client.asInternalUser.indices.exists({
    index: context.server.config.opensearchDashboards.index
  });
  return data.body;
};

/**
 * Verify wazuh-statistics template
 */
const checkTemplate = async function (context) {
  try {
    const appConfig = await context.wazuh_core.configuration.get();
    const prefixTemplateName = appConfig['cron.prefix'];
    const statisticsIndicesTemplateName = appConfig['cron.statistics.index.name'];
    const pattern = `${prefixTemplateName}-${statisticsIndicesTemplateName}-*`;
    try {
      // Check if the template already exists
      context.wazuh.logger.debug(`Getting the ${_constants.WAZUH_STATISTICS_TEMPLATE_NAME} template`);
      const currentTemplate = await context.core.opensearch.client.asInternalUser.indices.getTemplate({
        name: _constants.WAZUH_STATISTICS_TEMPLATE_NAME
      });
      // Copy already created index patterns
      _statisticsTemplate.statisticsTemplate.index_patterns = currentTemplate.body[_constants.WAZUH_STATISTICS_TEMPLATE_NAME].index_patterns;
    } catch (error) {
      // Init with the default index pattern
      _statisticsTemplate.statisticsTemplate.index_patterns = [pattern];
    }

    // Check if the user is using a custom pattern and add it to the template if it does
    if (!_statisticsTemplate.statisticsTemplate.index_patterns.includes(pattern)) {
      _statisticsTemplate.statisticsTemplate.index_patterns.push(pattern);
    }

    // Update the statistics template
    context.wazuh.logger.debug(`Updating the ${_constants.WAZUH_STATISTICS_TEMPLATE_NAME} template`);
    await context.core.opensearch.client.asInternalUser.indices.putTemplate({
      name: _constants.WAZUH_STATISTICS_TEMPLATE_NAME,
      body: _statisticsTemplate.statisticsTemplate
    });
    context.wazuh.logger.info(`Updated the ${_constants.WAZUH_STATISTICS_TEMPLATE_NAME} template`);
  } catch (error) {
    context.wazuh.logger.error(`Something went wrong updating the ${_constants.WAZUH_STATISTICS_TEMPLATE_NAME} template ${error.message || error}`);
    throw error;
  }
};
async function jobSchedulerRun(context) {
  // Check Kibana index and if it is prepared, start the initialization of Wazuh App.
  await checkPluginPlatformStatus(context);
  const jobs = await (0, _configuredJobs.configuredJobs)(context, {});
  for (const job in jobs) {
    const schedulerJob = new _index.SchedulerJob(job, context);
    schedulerJobs.push(schedulerJob);
    const task = _nodeCron.default.schedule(jobs[job].interval, () => schedulerJob.run());
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfaW5kZXgiLCJyZXF1aXJlIiwiX2NvbmZpZ3VyZWRKb2JzIiwiX25vZGVDcm9uIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9jb25zdGFudHMiLCJfc3RhdGlzdGljc1RlbXBsYXRlIiwiX3V0aWxzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJzY2hlZHVsZXJKb2JzIiwiY2hlY2tQbHVnaW5QbGF0Zm9ybVN0YXR1cyIsImNvbnRleHQiLCJ3YXp1aCIsImxvZ2dlciIsImRlYnVnIiwiY2hlY2tFbGFzdGljc2VhcmNoU2VydmVyIiwiY2hlY2tUZW1wbGF0ZSIsImVycm9yIiwid2FybiIsIm1lc3NhZ2UiLCJkZWxheUFzUHJvbWlzZSIsInNlcnZlciIsImNvbmZpZyIsIm9wZW5zZWFyY2hEYXNoYm9hcmRzIiwiaW5kZXgiLCJkYXRhIiwiY29yZSIsIm9wZW5zZWFyY2giLCJjbGllbnQiLCJhc0ludGVybmFsVXNlciIsImluZGljZXMiLCJleGlzdHMiLCJib2R5IiwiYXBwQ29uZmlnIiwid2F6dWhfY29yZSIsImNvbmZpZ3VyYXRpb24iLCJnZXQiLCJwcmVmaXhUZW1wbGF0ZU5hbWUiLCJzdGF0aXN0aWNzSW5kaWNlc1RlbXBsYXRlTmFtZSIsInBhdHRlcm4iLCJXQVpVSF9TVEFUSVNUSUNTX1RFTVBMQVRFX05BTUUiLCJjdXJyZW50VGVtcGxhdGUiLCJnZXRUZW1wbGF0ZSIsIm5hbWUiLCJzdGF0aXN0aWNzVGVtcGxhdGUiLCJpbmRleF9wYXR0ZXJucyIsImluY2x1ZGVzIiwicHVzaCIsInB1dFRlbXBsYXRlIiwiaW5mbyIsImpvYlNjaGVkdWxlclJ1biIsImpvYnMiLCJjb25maWd1cmVkSm9icyIsImpvYiIsInNjaGVkdWxlckpvYiIsIlNjaGVkdWxlckpvYiIsInRhc2siLCJjcm9uIiwic2NoZWR1bGUiLCJpbnRlcnZhbCIsInJ1biJdLCJzb3VyY2VzIjpbInNjaGVkdWxlci1oYW5kbGVyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGpvYnMsIFNjaGVkdWxlckpvYiB9IGZyb20gJy4vaW5kZXgnO1xuaW1wb3J0IHsgY29uZmlndXJlZEpvYnMgfSBmcm9tICcuL2NvbmZpZ3VyZWQtam9icyc7XG5pbXBvcnQgY3JvbiBmcm9tICdub2RlLWNyb24nO1xuaW1wb3J0IHsgV0FaVUhfU1RBVElTVElDU19URU1QTEFURV9OQU1FIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBzdGF0aXN0aWNzVGVtcGxhdGUgfSBmcm9tICcuLi8uLi9pbnRlZ3JhdGlvbi1maWxlcy9zdGF0aXN0aWNzLXRlbXBsYXRlJztcbmltcG9ydCB7IGRlbGF5QXNQcm9taXNlIH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL3V0aWxzJztcblxuY29uc3Qgc2NoZWR1bGVySm9icyA9IFtdO1xuXG4vKipcbiAqIFdhaXQgdW50aWwgS2liYW5hIHNlcnZlciBpcyByZWFkeVxuICovXG5jb25zdCBjaGVja1BsdWdpblBsYXRmb3JtU3RhdHVzID0gYXN5bmMgZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgdHJ5IHtcbiAgICBjb250ZXh0LndhenVoLmxvZ2dlci5kZWJ1ZygnV2FpdGluZyBmb3IgcGxhdGZvcm0gc2VydmVycyB0byBiZSByZWFkeS4uLicpO1xuXG4gICAgYXdhaXQgY2hlY2tFbGFzdGljc2VhcmNoU2VydmVyKGNvbnRleHQpO1xuICAgIGF3YWl0IGNoZWNrVGVtcGxhdGUoY29udGV4dCk7XG4gICAgcmV0dXJuO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnRleHQud2F6dWgubG9nZ2VyLndhcm4oZXJyb3IubWVzc2FnZSB8fCBlcnJvcik7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGRlbGF5QXNQcm9taXNlKDMwMDApO1xuICAgICAgYXdhaXQgY2hlY2tQbHVnaW5QbGF0Zm9ybVN0YXR1cyhjb250ZXh0KTtcbiAgICB9IGNhdGNoIChlcnJvcikge31cbiAgfVxufTtcblxuLyoqXG4gKiBDaGVjayBFbGFzdGljc2VhcmNoIFNlcnZlciBzdGF0dXMgYW5kIEtpYmFuYSBpbmRleCBwcmVzZW5jZVxuICovXG5jb25zdCBjaGVja0VsYXN0aWNzZWFyY2hTZXJ2ZXIgPSBhc3luYyBmdW5jdGlvbiAoY29udGV4dCkge1xuICBjb250ZXh0LndhenVoLmxvZ2dlci5kZWJ1ZyhcbiAgICBgQ2hlY2tpbmcgdGhlIGV4aXN0ZW5jZSBvZiAke2NvbnRleHQuc2VydmVyLmNvbmZpZy5vcGVuc2VhcmNoRGFzaGJvYXJkcy5pbmRleH0gaW5kZXhgLFxuICApO1xuICBjb25zdCBkYXRhID1cbiAgICBhd2FpdCBjb250ZXh0LmNvcmUub3BlbnNlYXJjaC5jbGllbnQuYXNJbnRlcm5hbFVzZXIuaW5kaWNlcy5leGlzdHMoe1xuICAgICAgaW5kZXg6IGNvbnRleHQuc2VydmVyLmNvbmZpZy5vcGVuc2VhcmNoRGFzaGJvYXJkcy5pbmRleCxcbiAgICB9KTtcblxuICByZXR1cm4gZGF0YS5ib2R5O1xufTtcblxuLyoqXG4gKiBWZXJpZnkgd2F6dWgtc3RhdGlzdGljcyB0ZW1wbGF0ZVxuICovXG5jb25zdCBjaGVja1RlbXBsYXRlID0gYXN5bmMgZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBhcHBDb25maWcgPSBhd2FpdCBjb250ZXh0LndhenVoX2NvcmUuY29uZmlndXJhdGlvbi5nZXQoKTtcblxuICAgIGNvbnN0IHByZWZpeFRlbXBsYXRlTmFtZSA9IGFwcENvbmZpZ1snY3Jvbi5wcmVmaXgnXTtcbiAgICBjb25zdCBzdGF0aXN0aWNzSW5kaWNlc1RlbXBsYXRlTmFtZSA9XG4gICAgICBhcHBDb25maWdbJ2Nyb24uc3RhdGlzdGljcy5pbmRleC5uYW1lJ107XG4gICAgY29uc3QgcGF0dGVybiA9IGAke3ByZWZpeFRlbXBsYXRlTmFtZX0tJHtzdGF0aXN0aWNzSW5kaWNlc1RlbXBsYXRlTmFtZX0tKmA7XG5cbiAgICB0cnkge1xuICAgICAgLy8gQ2hlY2sgaWYgdGhlIHRlbXBsYXRlIGFscmVhZHkgZXhpc3RzXG4gICAgICBjb250ZXh0LndhenVoLmxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgYEdldHRpbmcgdGhlICR7V0FaVUhfU1RBVElTVElDU19URU1QTEFURV9OQU1FfSB0ZW1wbGF0ZWAsXG4gICAgICApO1xuICAgICAgY29uc3QgY3VycmVudFRlbXBsYXRlID1cbiAgICAgICAgYXdhaXQgY29udGV4dC5jb3JlLm9wZW5zZWFyY2guY2xpZW50LmFzSW50ZXJuYWxVc2VyLmluZGljZXMuZ2V0VGVtcGxhdGUoXG4gICAgICAgICAge1xuICAgICAgICAgICAgbmFtZTogV0FaVUhfU1RBVElTVElDU19URU1QTEFURV9OQU1FLFxuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICAvLyBDb3B5IGFscmVhZHkgY3JlYXRlZCBpbmRleCBwYXR0ZXJuc1xuICAgICAgc3RhdGlzdGljc1RlbXBsYXRlLmluZGV4X3BhdHRlcm5zID1cbiAgICAgICAgY3VycmVudFRlbXBsYXRlLmJvZHlbV0FaVUhfU1RBVElTVElDU19URU1QTEFURV9OQU1FXS5pbmRleF9wYXR0ZXJucztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gSW5pdCB3aXRoIHRoZSBkZWZhdWx0IGluZGV4IHBhdHRlcm5cbiAgICAgIHN0YXRpc3RpY3NUZW1wbGF0ZS5pbmRleF9wYXR0ZXJucyA9IFtwYXR0ZXJuXTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB0aGUgdXNlciBpcyB1c2luZyBhIGN1c3RvbSBwYXR0ZXJuIGFuZCBhZGQgaXQgdG8gdGhlIHRlbXBsYXRlIGlmIGl0IGRvZXNcbiAgICBpZiAoIXN0YXRpc3RpY3NUZW1wbGF0ZS5pbmRleF9wYXR0ZXJucy5pbmNsdWRlcyhwYXR0ZXJuKSkge1xuICAgICAgc3RhdGlzdGljc1RlbXBsYXRlLmluZGV4X3BhdHRlcm5zLnB1c2gocGF0dGVybik7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSBzdGF0aXN0aWNzIHRlbXBsYXRlXG4gICAgY29udGV4dC53YXp1aC5sb2dnZXIuZGVidWcoXG4gICAgICBgVXBkYXRpbmcgdGhlICR7V0FaVUhfU1RBVElTVElDU19URU1QTEFURV9OQU1FfSB0ZW1wbGF0ZWAsXG4gICAgKTtcbiAgICBhd2FpdCBjb250ZXh0LmNvcmUub3BlbnNlYXJjaC5jbGllbnQuYXNJbnRlcm5hbFVzZXIuaW5kaWNlcy5wdXRUZW1wbGF0ZSh7XG4gICAgICBuYW1lOiBXQVpVSF9TVEFUSVNUSUNTX1RFTVBMQVRFX05BTUUsXG4gICAgICBib2R5OiBzdGF0aXN0aWNzVGVtcGxhdGUsXG4gICAgfSk7XG4gICAgY29udGV4dC53YXp1aC5sb2dnZXIuaW5mbyhcbiAgICAgIGBVcGRhdGVkIHRoZSAke1dBWlVIX1NUQVRJU1RJQ1NfVEVNUExBVEVfTkFNRX0gdGVtcGxhdGVgLFxuICAgICk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29udGV4dC53YXp1aC5sb2dnZXIuZXJyb3IoXG4gICAgICBgU29tZXRoaW5nIHdlbnQgd3JvbmcgdXBkYXRpbmcgdGhlICR7V0FaVUhfU1RBVElTVElDU19URU1QTEFURV9OQU1FfSB0ZW1wbGF0ZSAke1xuICAgICAgICBlcnJvci5tZXNzYWdlIHx8IGVycm9yXG4gICAgICB9YCxcbiAgICApO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gam9iU2NoZWR1bGVyUnVuKGNvbnRleHQpIHtcbiAgLy8gQ2hlY2sgS2liYW5hIGluZGV4IGFuZCBpZiBpdCBpcyBwcmVwYXJlZCwgc3RhcnQgdGhlIGluaXRpYWxpemF0aW9uIG9mIFdhenVoIEFwcC5cbiAgYXdhaXQgY2hlY2tQbHVnaW5QbGF0Zm9ybVN0YXR1cyhjb250ZXh0KTtcbiAgY29uc3Qgam9icyA9IGF3YWl0IGNvbmZpZ3VyZWRKb2JzKGNvbnRleHQsIHt9KTtcbiAgZm9yIChjb25zdCBqb2IgaW4gam9icykge1xuICAgIGNvbnN0IHNjaGVkdWxlckpvYjogU2NoZWR1bGVySm9iID0gbmV3IFNjaGVkdWxlckpvYihqb2IsIGNvbnRleHQpO1xuICAgIHNjaGVkdWxlckpvYnMucHVzaChzY2hlZHVsZXJKb2IpO1xuICAgIGNvbnN0IHRhc2sgPSBjcm9uLnNjaGVkdWxlKGpvYnNbam9iXS5pbnRlcnZhbCwgKCkgPT4gc2NoZWR1bGVySm9iLnJ1bigpKTtcbiAgfVxufVxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFELE9BQUE7QUFDQSxJQUFBRSxTQUFBLEdBQUFDLHNCQUFBLENBQUFILE9BQUE7QUFDQSxJQUFBSSxVQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxtQkFBQSxHQUFBTCxPQUFBO0FBQ0EsSUFBQU0sTUFBQSxHQUFBTixPQUFBO0FBQXVELFNBQUFHLHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXZELE1BQU1HLGFBQWEsR0FBRyxFQUFFOztBQUV4QjtBQUNBO0FBQ0E7QUFDQSxNQUFNQyx5QkFBeUIsR0FBRyxlQUFBQSxDQUFnQkMsT0FBTyxFQUFFO0VBQ3pELElBQUk7SUFDRkEsT0FBTyxDQUFDQyxLQUFLLENBQUNDLE1BQU0sQ0FBQ0MsS0FBSyxDQUFDLDZDQUE2QyxDQUFDO0lBRXpFLE1BQU1DLHdCQUF3QixDQUFDSixPQUFPLENBQUM7SUFDdkMsTUFBTUssYUFBYSxDQUFDTCxPQUFPLENBQUM7SUFDNUI7RUFDRixDQUFDLENBQUMsT0FBT00sS0FBSyxFQUFFO0lBQ2ROLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDQyxNQUFNLENBQUNLLElBQUksQ0FBQ0QsS0FBSyxDQUFDRSxPQUFPLElBQUlGLEtBQUssQ0FBQztJQUNqRCxJQUFJO01BQ0YsTUFBTSxJQUFBRyxxQkFBYyxFQUFDLElBQUksQ0FBQztNQUMxQixNQUFNVix5QkFBeUIsQ0FBQ0MsT0FBTyxDQUFDO0lBQzFDLENBQUMsQ0FBQyxPQUFPTSxLQUFLLEVBQUUsQ0FBQztFQUNuQjtBQUNGLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsTUFBTUYsd0JBQXdCLEdBQUcsZUFBQUEsQ0FBZ0JKLE9BQU8sRUFBRTtFQUN4REEsT0FBTyxDQUFDQyxLQUFLLENBQUNDLE1BQU0sQ0FBQ0MsS0FBSyxDQUN2Qiw2QkFBNEJILE9BQU8sQ0FBQ1UsTUFBTSxDQUFDQyxNQUFNLENBQUNDLG9CQUFvQixDQUFDQyxLQUFNLFFBQ2hGLENBQUM7RUFDRCxNQUFNQyxJQUFJLEdBQ1IsTUFBTWQsT0FBTyxDQUFDZSxJQUFJLENBQUNDLFVBQVUsQ0FBQ0MsTUFBTSxDQUFDQyxjQUFjLENBQUNDLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDO0lBQ2pFUCxLQUFLLEVBQUViLE9BQU8sQ0FBQ1UsTUFBTSxDQUFDQyxNQUFNLENBQUNDLG9CQUFvQixDQUFDQztFQUNwRCxDQUFDLENBQUM7RUFFSixPQUFPQyxJQUFJLENBQUNPLElBQUk7QUFDbEIsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxNQUFNaEIsYUFBYSxHQUFHLGVBQUFBLENBQWdCTCxPQUFPLEVBQUU7RUFDN0MsSUFBSTtJQUNGLE1BQU1zQixTQUFTLEdBQUcsTUFBTXRCLE9BQU8sQ0FBQ3VCLFVBQVUsQ0FBQ0MsYUFBYSxDQUFDQyxHQUFHLENBQUMsQ0FBQztJQUU5RCxNQUFNQyxrQkFBa0IsR0FBR0osU0FBUyxDQUFDLGFBQWEsQ0FBQztJQUNuRCxNQUFNSyw2QkFBNkIsR0FDakNMLFNBQVMsQ0FBQyw0QkFBNEIsQ0FBQztJQUN6QyxNQUFNTSxPQUFPLEdBQUksR0FBRUYsa0JBQW1CLElBQUdDLDZCQUE4QixJQUFHO0lBRTFFLElBQUk7TUFDRjtNQUNBM0IsT0FBTyxDQUFDQyxLQUFLLENBQUNDLE1BQU0sQ0FBQ0MsS0FBSyxDQUN2QixlQUFjMEIseUNBQStCLFdBQ2hELENBQUM7TUFDRCxNQUFNQyxlQUFlLEdBQ25CLE1BQU05QixPQUFPLENBQUNlLElBQUksQ0FBQ0MsVUFBVSxDQUFDQyxNQUFNLENBQUNDLGNBQWMsQ0FBQ0MsT0FBTyxDQUFDWSxXQUFXLENBQ3JFO1FBQ0VDLElBQUksRUFBRUg7TUFDUixDQUNGLENBQUM7TUFDSDtNQUNBSSxzQ0FBa0IsQ0FBQ0MsY0FBYyxHQUMvQkosZUFBZSxDQUFDVCxJQUFJLENBQUNRLHlDQUE4QixDQUFDLENBQUNLLGNBQWM7SUFDdkUsQ0FBQyxDQUFDLE9BQU81QixLQUFLLEVBQUU7TUFDZDtNQUNBMkIsc0NBQWtCLENBQUNDLGNBQWMsR0FBRyxDQUFDTixPQUFPLENBQUM7SUFDL0M7O0lBRUE7SUFDQSxJQUFJLENBQUNLLHNDQUFrQixDQUFDQyxjQUFjLENBQUNDLFFBQVEsQ0FBQ1AsT0FBTyxDQUFDLEVBQUU7TUFDeERLLHNDQUFrQixDQUFDQyxjQUFjLENBQUNFLElBQUksQ0FBQ1IsT0FBTyxDQUFDO0lBQ2pEOztJQUVBO0lBQ0E1QixPQUFPLENBQUNDLEtBQUssQ0FBQ0MsTUFBTSxDQUFDQyxLQUFLLENBQ3ZCLGdCQUFlMEIseUNBQStCLFdBQ2pELENBQUM7SUFDRCxNQUFNN0IsT0FBTyxDQUFDZSxJQUFJLENBQUNDLFVBQVUsQ0FBQ0MsTUFBTSxDQUFDQyxjQUFjLENBQUNDLE9BQU8sQ0FBQ2tCLFdBQVcsQ0FBQztNQUN0RUwsSUFBSSxFQUFFSCx5Q0FBOEI7TUFDcENSLElBQUksRUFBRVk7SUFDUixDQUFDLENBQUM7SUFDRmpDLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDQyxNQUFNLENBQUNvQyxJQUFJLENBQ3RCLGVBQWNULHlDQUErQixXQUNoRCxDQUFDO0VBQ0gsQ0FBQyxDQUFDLE9BQU92QixLQUFLLEVBQUU7SUFDZE4sT0FBTyxDQUFDQyxLQUFLLENBQUNDLE1BQU0sQ0FBQ0ksS0FBSyxDQUN2QixxQ0FBb0N1Qix5Q0FBK0IsYUFDbEV2QixLQUFLLENBQUNFLE9BQU8sSUFBSUYsS0FDbEIsRUFDSCxDQUFDO0lBQ0QsTUFBTUEsS0FBSztFQUNiO0FBQ0YsQ0FBQztBQUVNLGVBQWVpQyxlQUFlQSxDQUFDdkMsT0FBTyxFQUFFO0VBQzdDO0VBQ0EsTUFBTUQseUJBQXlCLENBQUNDLE9BQU8sQ0FBQztFQUN4QyxNQUFNd0MsSUFBSSxHQUFHLE1BQU0sSUFBQUMsOEJBQWMsRUFBQ3pDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztFQUM5QyxLQUFLLE1BQU0wQyxHQUFHLElBQUlGLElBQUksRUFBRTtJQUN0QixNQUFNRyxZQUEwQixHQUFHLElBQUlDLG1CQUFZLENBQUNGLEdBQUcsRUFBRTFDLE9BQU8sQ0FBQztJQUNqRUYsYUFBYSxDQUFDc0MsSUFBSSxDQUFDTyxZQUFZLENBQUM7SUFDaEMsTUFBTUUsSUFBSSxHQUFHQyxpQkFBSSxDQUFDQyxRQUFRLENBQUNQLElBQUksQ0FBQ0UsR0FBRyxDQUFDLENBQUNNLFFBQVEsRUFBRSxNQUFNTCxZQUFZLENBQUNNLEdBQUcsQ0FBQyxDQUFDLENBQUM7RUFDMUU7QUFDRiJ9