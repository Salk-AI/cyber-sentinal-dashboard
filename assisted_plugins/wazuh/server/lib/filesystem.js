"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getDataDirectoryRelative = exports.createDirectoryIfNotExists = exports.createDataDirectoryIfNotExists = void 0;
var _fs = _interopRequireDefault(require("fs"));
var _path = _interopRequireDefault(require("path"));
var _constants = require("../../common/constants");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const createDirectoryIfNotExists = directory => {
  if (!_fs.default.existsSync(directory)) {
    _fs.default.mkdirSync(directory, {
      recursive: true
    });
  }
};
exports.createDirectoryIfNotExists = createDirectoryIfNotExists;
const createDataDirectoryIfNotExists = directory => {
  const absoluteRoute = directory ? _path.default.join(_constants.WAZUH_DATA_ABSOLUTE_PATH, directory) : _constants.WAZUH_DATA_ABSOLUTE_PATH;
  if (!_fs.default.existsSync(absoluteRoute)) {
    _fs.default.mkdirSync(absoluteRoute, {
      recursive: true
    });
  }
};
exports.createDataDirectoryIfNotExists = createDataDirectoryIfNotExists;
const getDataDirectoryRelative = directory => {
  return _path.default.join(_constants.WAZUH_DATA_ABSOLUTE_PATH, directory);
};
exports.getDataDirectoryRelative = getDataDirectoryRelative;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZnMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wYXRoIiwiX2NvbnN0YW50cyIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiY3JlYXRlRGlyZWN0b3J5SWZOb3RFeGlzdHMiLCJkaXJlY3RvcnkiLCJmcyIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJyZWN1cnNpdmUiLCJleHBvcnRzIiwiY3JlYXRlRGF0YURpcmVjdG9yeUlmTm90RXhpc3RzIiwiYWJzb2x1dGVSb3V0ZSIsInBhdGgiLCJqb2luIiwiV0FaVUhfREFUQV9BQlNPTFVURV9QQVRIIiwiZ2V0RGF0YURpcmVjdG9yeVJlbGF0aXZlIl0sInNvdXJjZXMiOlsiZmlsZXN5c3RlbS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBXQVpVSF9EQVRBX0FCU09MVVRFX1BBVEggfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZURpcmVjdG9yeUlmTm90RXhpc3RzID0gKGRpcmVjdG9yeTogc3RyaW5nKTogdm9pZCA9PiB7XG4gIGlmICghZnMuZXhpc3RzU3luYyhkaXJlY3RvcnkpKSB7XG4gICAgZnMubWtkaXJTeW5jKGRpcmVjdG9yeSwgeyByZWN1cnNpdmU6IHRydWUgfSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVEYXRhRGlyZWN0b3J5SWZOb3RFeGlzdHMgPSAoZGlyZWN0b3J5Pzogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGFic29sdXRlUm91dGUgPSBkaXJlY3RvcnlcbiAgICA/IHBhdGguam9pbihXQVpVSF9EQVRBX0FCU09MVVRFX1BBVEgsIGRpcmVjdG9yeSlcbiAgICA6IFdBWlVIX0RBVEFfQUJTT0xVVEVfUEFUSDtcbiAgaWYgKCFmcy5leGlzdHNTeW5jKGFic29sdXRlUm91dGUpKSB7XG4gICAgZnMubWtkaXJTeW5jKGFic29sdXRlUm91dGUsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RGF0YURpcmVjdG9yeVJlbGF0aXZlID0gKGRpcmVjdG9yeT86IHN0cmluZykgPT4ge1xuICByZXR1cm4gcGF0aC5qb2luKFdBWlVIX0RBVEFfQUJTT0xVVEVfUEFUSCwgZGlyZWN0b3J5KTtcbn07XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLEdBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEtBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFVBQUEsR0FBQUYsT0FBQTtBQUFrRSxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUUzRCxNQUFNRywwQkFBMEIsR0FBSUMsU0FBaUIsSUFBVztFQUNyRSxJQUFJLENBQUNDLFdBQUUsQ0FBQ0MsVUFBVSxDQUFDRixTQUFTLENBQUMsRUFBRTtJQUM3QkMsV0FBRSxDQUFDRSxTQUFTLENBQUNILFNBQVMsRUFBRTtNQUFFSSxTQUFTLEVBQUU7SUFBSyxDQUFDLENBQUM7RUFDOUM7QUFDRixDQUFDO0FBQUNDLE9BQUEsQ0FBQU4sMEJBQUEsR0FBQUEsMEJBQUE7QUFFSyxNQUFNTyw4QkFBOEIsR0FBSU4sU0FBa0IsSUFBSztFQUNwRSxNQUFNTyxhQUFhLEdBQUdQLFNBQVMsR0FDM0JRLGFBQUksQ0FBQ0MsSUFBSSxDQUFDQyxtQ0FBd0IsRUFBRVYsU0FBUyxDQUFDLEdBQzlDVSxtQ0FBd0I7RUFDNUIsSUFBSSxDQUFDVCxXQUFFLENBQUNDLFVBQVUsQ0FBQ0ssYUFBYSxDQUFDLEVBQUU7SUFDakNOLFdBQUUsQ0FBQ0UsU0FBUyxDQUFDSSxhQUFhLEVBQUU7TUFBRUgsU0FBUyxFQUFFO0lBQUssQ0FBQyxDQUFDO0VBQ2xEO0FBQ0YsQ0FBQztBQUFDQyxPQUFBLENBQUFDLDhCQUFBLEdBQUFBLDhCQUFBO0FBRUssTUFBTUssd0JBQXdCLEdBQUlYLFNBQWtCLElBQUs7RUFDOUQsT0FBT1EsYUFBSSxDQUFDQyxJQUFJLENBQUNDLG1DQUF3QixFQUFFVixTQUFTLENBQUM7QUFDdkQsQ0FBQztBQUFDSyxPQUFBLENBQUFNLHdCQUFBLEdBQUFBLHdCQUFBIn0=