"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.setSavedObject = void 0;
var _pluginServices = require("../../plugin-services");
const setSavedObject = async (type, value, id) => {
  try {
    const client = (0, _pluginServices.getInternalSavedObjectsClient)();
    const responseCreate = await client.create(type, value, {
      id: id || type,
      overwrite: true,
      refresh: true
    });
    return responseCreate === null || responseCreate === void 0 ? void 0 : responseCreate.attributes;
  } catch (error) {
    const message = error instanceof Error ? error.message : typeof error === 'string' ? error : 'Error trying to update saved object';
    const {
      logger
    } = (0, _pluginServices.getWazuhCheckUpdatesServices)();
    logger.error(message);
    return Promise.reject(error);
  }
};
exports.setSavedObject = setSavedObject;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcGx1Z2luU2VydmljZXMiLCJyZXF1aXJlIiwic2V0U2F2ZWRPYmplY3QiLCJ0eXBlIiwidmFsdWUiLCJpZCIsImNsaWVudCIsImdldEludGVybmFsU2F2ZWRPYmplY3RzQ2xpZW50IiwicmVzcG9uc2VDcmVhdGUiLCJjcmVhdGUiLCJvdmVyd3JpdGUiLCJyZWZyZXNoIiwiYXR0cmlidXRlcyIsImVycm9yIiwibWVzc2FnZSIsIkVycm9yIiwibG9nZ2VyIiwiZ2V0V2F6dWhDaGVja1VwZGF0ZXNTZXJ2aWNlcyIsIlByb21pc2UiLCJyZWplY3QiLCJleHBvcnRzIl0sInNvdXJjZXMiOlsic2V0LXNhdmVkLW9iamVjdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzYXZlZE9iamVjdFR5cGUgfSBmcm9tICcuLi8uLi8uLi9jb21tb24vdHlwZXMnO1xuaW1wb3J0IHtcbiAgZ2V0SW50ZXJuYWxTYXZlZE9iamVjdHNDbGllbnQsXG4gIGdldFdhenVoQ2hlY2tVcGRhdGVzU2VydmljZXMsXG59IGZyb20gJy4uLy4uL3BsdWdpbi1zZXJ2aWNlcyc7XG5cbmV4cG9ydCBjb25zdCBzZXRTYXZlZE9iamVjdCA9IGFzeW5jIChcbiAgdHlwZTogc3RyaW5nLFxuICB2YWx1ZTogc2F2ZWRPYmplY3RUeXBlLFxuICBpZD86IHN0cmluZyxcbik6IFByb21pc2U8c2F2ZWRPYmplY3RUeXBlPiA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY2xpZW50ID0gZ2V0SW50ZXJuYWxTYXZlZE9iamVjdHNDbGllbnQoKTtcblxuICAgIGNvbnN0IHJlc3BvbnNlQ3JlYXRlID0gYXdhaXQgY2xpZW50LmNyZWF0ZSh0eXBlLCB2YWx1ZSwge1xuICAgICAgaWQ6IGlkIHx8IHR5cGUsXG4gICAgICBvdmVyd3JpdGU6IHRydWUsXG4gICAgICByZWZyZXNoOiB0cnVlLFxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJlc3BvbnNlQ3JlYXRlPy5hdHRyaWJ1dGVzO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnN0IG1lc3NhZ2UgPVxuICAgICAgZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuICAgICAgICA/IGVycm9yLm1lc3NhZ2VcbiAgICAgICAgOiB0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnXG4gICAgICAgID8gZXJyb3JcbiAgICAgICAgOiAnRXJyb3IgdHJ5aW5nIHRvIHVwZGF0ZSBzYXZlZCBvYmplY3QnO1xuXG4gICAgY29uc3QgeyBsb2dnZXIgfSA9IGdldFdhenVoQ2hlY2tVcGRhdGVzU2VydmljZXMoKTtcblxuICAgIGxvZ2dlci5lcnJvcihtZXNzYWdlKTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICB9XG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQSxJQUFBQSxlQUFBLEdBQUFDLE9BQUE7QUFLTyxNQUFNQyxjQUFjLEdBQUcsTUFBQUEsQ0FDNUJDLElBQVksRUFDWkMsS0FBc0IsRUFDdEJDLEVBQVcsS0FDa0I7RUFDN0IsSUFBSTtJQUNGLE1BQU1DLE1BQU0sR0FBRyxJQUFBQyw2Q0FBNkIsRUFBQyxDQUFDO0lBRTlDLE1BQU1DLGNBQWMsR0FBRyxNQUFNRixNQUFNLENBQUNHLE1BQU0sQ0FBQ04sSUFBSSxFQUFFQyxLQUFLLEVBQUU7TUFDdERDLEVBQUUsRUFBRUEsRUFBRSxJQUFJRixJQUFJO01BQ2RPLFNBQVMsRUFBRSxJQUFJO01BQ2ZDLE9BQU8sRUFBRTtJQUNYLENBQUMsQ0FBQztJQUVGLE9BQU9ILGNBQWMsYUFBZEEsY0FBYyx1QkFBZEEsY0FBYyxDQUFFSSxVQUFVO0VBQ25DLENBQUMsQ0FBQyxPQUFPQyxLQUFLLEVBQUU7SUFDZCxNQUFNQyxPQUFPLEdBQ1hELEtBQUssWUFBWUUsS0FBSyxHQUNsQkYsS0FBSyxDQUFDQyxPQUFPLEdBQ2IsT0FBT0QsS0FBSyxLQUFLLFFBQVEsR0FDekJBLEtBQUssR0FDTCxxQ0FBcUM7SUFFM0MsTUFBTTtNQUFFRztJQUFPLENBQUMsR0FBRyxJQUFBQyw0Q0FBNEIsRUFBQyxDQUFDO0lBRWpERCxNQUFNLENBQUNILEtBQUssQ0FBQ0MsT0FBTyxDQUFDO0lBQ3JCLE9BQU9JLE9BQU8sQ0FBQ0MsTUFBTSxDQUFDTixLQUFLLENBQUM7RUFDOUI7QUFDRixDQUFDO0FBQUNPLE9BQUEsQ0FBQWxCLGNBQUEsR0FBQUEsY0FBQSJ9