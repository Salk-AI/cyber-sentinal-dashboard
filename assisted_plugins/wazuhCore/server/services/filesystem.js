"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getDataDirectoryRelative = exports.createDirectoryIfNotExists = exports.createDataDirectoryIfNotExists = void 0;
var _fs = _interopRequireDefault(require("fs"));
var _path = _interopRequireDefault(require("path"));
var _constants = require("../../common/constants");
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
const createDirectoryIfNotExists = directory => {
  if (!_fs.default.existsSync(directory)) {
    _fs.default.mkdirSync(directory, {
      recursive: true
    });
  }
};
exports.createDirectoryIfNotExists = createDirectoryIfNotExists;
const createDataDirectoryIfNotExists = directory => {
  const absoluteRoute = directory ? _path.default.join(_constants.WAZUH_DATA_ABSOLUTE_PATH, directory) : _constants.WAZUH_DATA_ABSOLUTE_PATH;
  if (!_fs.default.existsSync(absoluteRoute)) {
    _fs.default.mkdirSync(absoluteRoute, {
      recursive: true
    });
  }
};
exports.createDataDirectoryIfNotExists = createDataDirectoryIfNotExists;
const getDataDirectoryRelative = directory => {
  return _path.default.join(_constants.WAZUH_DATA_ABSOLUTE_PATH, directory);
};
exports.getDataDirectoryRelative = getDataDirectoryRelative;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZnMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9wYXRoIiwiX2NvbnN0YW50cyIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiY3JlYXRlRGlyZWN0b3J5SWZOb3RFeGlzdHMiLCJkaXJlY3RvcnkiLCJmcyIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJyZWN1cnNpdmUiLCJleHBvcnRzIiwiY3JlYXRlRGF0YURpcmVjdG9yeUlmTm90RXhpc3RzIiwiYWJzb2x1dGVSb3V0ZSIsInBhdGgiLCJqb2luIiwiV0FaVUhfREFUQV9BQlNPTFVURV9QQVRIIiwiZ2V0RGF0YURpcmVjdG9yeVJlbGF0aXZlIl0sInNvdXJjZXMiOlsiZmlsZXN5c3RlbS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBXQVpVSF9EQVRBX0FCU09MVVRFX1BBVEggfSBmcm9tICcuLi8uLi9jb21tb24vY29uc3RhbnRzJztcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZURpcmVjdG9yeUlmTm90RXhpc3RzID0gKGRpcmVjdG9yeTogc3RyaW5nKTogdm9pZCA9PiB7XG4gIGlmICghZnMuZXhpc3RzU3luYyhkaXJlY3RvcnkpKSB7XG4gICAgZnMubWtkaXJTeW5jKGRpcmVjdG9yeSwgeyByZWN1cnNpdmU6IHRydWUgfSk7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVEYXRhRGlyZWN0b3J5SWZOb3RFeGlzdHMgPSAoZGlyZWN0b3J5Pzogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGFic29sdXRlUm91dGUgPSBkaXJlY3RvcnlcbiAgICA/IHBhdGguam9pbihXQVpVSF9EQVRBX0FCU09MVVRFX1BBVEgsIGRpcmVjdG9yeSlcbiAgICA6IFdBWlVIX0RBVEFfQUJTT0xVVEVfUEFUSDtcbiAgaWYgKCFmcy5leGlzdHNTeW5jKGFic29sdXRlUm91dGUpKSB7XG4gICAgZnMubWtkaXJTeW5jKGFic29sdXRlUm91dGUsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0RGF0YURpcmVjdG9yeVJlbGF0aXZlID0gKGRpcmVjdG9yeTogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBwYXRoLmpvaW4oV0FaVUhfREFUQV9BQlNPTFVURV9QQVRILCBkaXJlY3RvcnkpO1xufTtcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsR0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsVUFBQSxHQUFBRixPQUFBO0FBQWtFLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTNELE1BQU1HLDBCQUEwQixHQUFJQyxTQUFpQixJQUFXO0VBQ3JFLElBQUksQ0FBQ0MsV0FBRSxDQUFDQyxVQUFVLENBQUNGLFNBQVMsQ0FBQyxFQUFFO0lBQzdCQyxXQUFFLENBQUNFLFNBQVMsQ0FBQ0gsU0FBUyxFQUFFO01BQUVJLFNBQVMsRUFBRTtJQUFLLENBQUMsQ0FBQztFQUM5QztBQUNGLENBQUM7QUFBQ0MsT0FBQSxDQUFBTiwwQkFBQSxHQUFBQSwwQkFBQTtBQUVLLE1BQU1PLDhCQUE4QixHQUFJTixTQUFrQixJQUFLO0VBQ3BFLE1BQU1PLGFBQWEsR0FBR1AsU0FBUyxHQUMzQlEsYUFBSSxDQUFDQyxJQUFJLENBQUNDLG1DQUF3QixFQUFFVixTQUFTLENBQUMsR0FDOUNVLG1DQUF3QjtFQUM1QixJQUFJLENBQUNULFdBQUUsQ0FBQ0MsVUFBVSxDQUFDSyxhQUFhLENBQUMsRUFBRTtJQUNqQ04sV0FBRSxDQUFDRSxTQUFTLENBQUNJLGFBQWEsRUFBRTtNQUFFSCxTQUFTLEVBQUU7SUFBSyxDQUFDLENBQUM7RUFDbEQ7QUFDRixDQUFDO0FBQUNDLE9BQUEsQ0FBQUMsOEJBQUEsR0FBQUEsOEJBQUE7QUFFSyxNQUFNSyx3QkFBd0IsR0FBSVgsU0FBaUIsSUFBSztFQUM3RCxPQUFPUSxhQUFJLENBQUNDLElBQUksQ0FBQ0MsbUNBQXdCLEVBQUVWLFNBQVMsQ0FBQztBQUN2RCxDQUFDO0FBQUNLLE9BQUEsQ0FBQU0sd0JBQUEsR0FBQUEsd0JBQUEifQ==